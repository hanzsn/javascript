(()=>{const e=document.querySelector("#input"),t=document.querySelectorAll(".number"),l=document.querySelectorAll(".operator"),c=document.querySelector(".decimal"),n=document.querySelector(".equal"),r=document.querySelector(".delete"),u=document.querySelector(".clear");let a=!0;const o=["+","-","*","/"];t.forEach(t=>{t.addEventListener("click",t=>{e.value.length>=25||("0"===e.value&&(e.value=""),a&&(e.value="",a=!1),e.value+=t.target.textContent)})}),u.addEventListener("click",t=>{e.value="0",a=!0,console.log(t.target.textContent)}),r.addEventListener("click",t=>{e.value=e.value.slice(0,-1),""===e.value&&(e.value="0",a=!0),console.log(t.target.className)}),c.addEventListener("click",t=>{e.value.split(/[\+\-\*\/]/).at(-1).includes(".")||(/[\+\-\*\/]$/.test(e.value)?e.value+="0.":(e.value+=".",console.log(t.target.className)))}),n.addEventListener("click",t=>{const l=e.value,c=o.find(e=>l.includes(e));if(!c)return;const[n,r]=l.split(c);if(""===r)return;const u=function(e,t,l){switch(e){case"+":return t+l;case"-":return t-l;case"*":return t*l;case"/":return 0===l?"Error: division by zero!":t/l;default:return"Error!"}}(c,Number(n),Number(r));e.value=u,a=!0,console.log(t.target.textContent)}),l.forEach(t=>{t.addEventListener("click",t=>{const l=t.target.textContent,c=e.value.slice(-1);(e.value||"-"===l)&&(o.includes(c)?e.value=e.value.slice(0,-1)+l:o.some(t=>e.value.includes(t))||(e.value+=l,a=!1))})})})();