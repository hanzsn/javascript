(()=>{"use strict";class e{id;constructor(e="",t="",a=0,o=!1,s=""){this.id=crypto.randomUUID(),this.title=e,this.author=t,this.pages=a,this.readStatus=o,this.imageUrl=s}toggleRead(){this.readStatus=!this.readStatus}getStatusText(){return this.readStatus?"Complete":"Unread"}}const t=new class{constructor(){const t=localStorage.getItem("books");if(t){const a=JSON.parse(t);this.books=a.filter(e=>e&&e.id&&e.title).map(t=>{const a=new e(t.title,t.author,t.pages,t.readStatus,t.imageUrl);return a.id=t.id,a})}else this.books=[]}save(){localStorage.setItem("books",JSON.stringify(this.books))}add(e){return this.books.push(e),this.save(),e}removeById(e){return this.books=this.books.filter(t=>t.id!==e),this.save(),this.books}findById(e){return this.books.find(t=>t.id===e)}getAll(){return[...this.books]}};0===t.getAll().length&&(t.add(new e("Solo Leveling","Chugong",312,!0,"https://m.media-amazon.com/images/S/pv-target-images/a90c37cc3e0bcddcb2cc8d068664c874585e8dc3fbaeae08a742b26ad243f047.jpg")),t.add(new e("Demon Slayer: Kimetsu no Yaiba","Koyoharu Gotouge",4500,!0,"https://cdn.theouterhaven.net/wp-content/uploads/2024/06/demon-slayer-infinity-castle-trilogy-768x403.jpg")),t.add(new e("Sakamoto Days","Yuto Suzuki",200,!0,"https://static0.cbrimages.com/wordpress/wp-content/uploads/2022/04/sakamoto-days-key-visual.jpg")),t.add(new e("Jujutsu kaisen","Gege Akutami",6e3,!1,"https://static0.cbrimages.com/wordpress/wp-content/uploads/2024/11/jjk-s-shibuya-incident.jpg?w=1600&h=900&fit=crop")),t.add(new e("My Hero Academia","KÅhei Horikosh",8400,!1,"https://miro.medium.com/v2/1*W2heFUeeOS_5lWZDBe7hpA.jpeg")),t.add(new e("One Piece","Eiichiro Oda",22e3,!1,"https://image.tmdb.org/t/p/original/mBxsapX4DNhH1XkOlLp15He5sxL.jpg")),t.add(new e("Hell University, part 1","KnightinBlack",256,!0,"https://share-media.literal.club/media/book/knightinblack-hell-university-part-1-yj48w?format=landscape")),t.add(new e("My Husband is a Mafia Boss Season 1","Yanalovesyouu",736,!1,"https://pbs.twimg.com/media/FRrAlBNagAYwivR.jpg")));const a=()=>"https://static.vecteezy.com/system/resources/previews/004/141/669/non_2x/no-photo-or-blank-image-icon-loading-images-or-missing-image-mark-image-not-available-or-image-coming-soon-sign-simple-nature-silhouette-in-frame-isolated-illustration-vector.jpg";function o(){const e=document.querySelector("#book-container");e&&(e.innerHTML=""),t.getAll().forEach(o=>{const s=document.createElement("div");s.className="flex flex-col w-full h-full overflow-hidden rounded shadow-custom group bg-base-100",s.classList.add("book"),s.dataset.id=o.id;const n=document.createElement("img");n.src=o.imageUrl&&""!==o.imageUrl.trim()?o.imageUrl:a(),n.onerror=()=>{n.src=a()},n.alt=o.title,n.className="object-cover w-full h-40 mb-4 transition-transform duration-300 group-hover:scale-110";const i=document.createElement("h2");i.className="mb-2 font-semibold line-clamp-2",i.textContent=`Title: ${o.title}`;const l=document.createElement("span");l.textContent=`Author: ${o.author}`,l.className="text-sm";const r=document.createElement("span");r.textContent=`Pages: ${o.pages}`,r.className="text-sm";const c=document.createElement("label");c.className="flex items-center gap-2 text-sm";const d=document.createElement("span");d.textContent=`Status: ${o.getStatusText()}`,d.className="text-sm";const m=document.createElement("input");m.type="checkbox",m.checked=o.readStatus,m.className="flex cursor-pointer toggle-read-checkbox";const u=document.createElement("div");u.className="flex flex-col items-stretch gap-1 p-4 mt-auto card-actions";const p=document.createElement("button");p.textContent="Remove",p.className="btn btn-sm btn-neutral";const h=document.createElement("div");h.className="flex flex-col w-full h-full px-4";const g=document.createElement("input");g.type="text",g.className="flex-1 border border-gray-300 input",g.disabled=!0,u.appendChild(g),u.appendChild(p),h.appendChild(i),h.appendChild(l),h.appendChild(r),c.appendChild(m),c.appendChild(d),h.appendChild(c),s.appendChild(n),s.appendChild(h),s.appendChild(u),e&&e.appendChild(s),m.addEventListener("change",()=>{const e=t.findById(o.id);e&&(e.toggleRead(),t.save(),d.textContent=`Status: ${e.getStatusText()}`)});let b=0;p.addEventListener("click",()=>{b++;const e=s.querySelector(".book-id");if(g.placeholder="Enter book Id",g.disabled=!1,!e){const e=document.createElement("span");e.textContent=`To remove, enter this in the box above: ${o.id}`,e.className="text-xs text-center book-id",u.appendChild(e)}var a;g.value.trim()===o.id&&(a=o.id,t.removeById(a),console.table(t.getAll()),s.remove(),g.value=""),b>=2&&(g.classList.remove("border-gray-300"),g.classList.add("border-red-500"))})})}const s=document.querySelector("#book-form");s&&s.addEventListener("submit",a=>{a.preventDefault();const s=document.querySelector("#title"),n=document.querySelector("#author"),i=document.querySelector("#pages"),l=document.querySelector("#book-image");s instanceof HTMLInputElement&&n instanceof HTMLInputElement&&i instanceof HTMLInputElement&&l instanceof HTMLInputElement&&(t.add(new e(s.value,n.value,Number(i.value),!1,l.value)),o(),s.value="",n.value="",i.value="",l.value="")}),o()})();